/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2014 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 3.1.0
*/
(function(f){"function"===typeof define&&define.amd?define(["jquery"],f):f(jQuery)})(function(f){if(void 0===f.fn.inputmask){var U=function(f){var d=document.createElement("input");f="on"+f;var c=f in d;c||(d.setAttribute(f,"return;"),c="function"==typeof d[f]);return c},E=function(b,d,c){return(b=c.aliases[b])?(b.alias&&E(b.alias,void 0,c),f.extend(!0,c,b),f.extend(!0,c,d),!0):!1},Q=function(b,d){function c(c){function f(c,d,b,g){this.matches=[];this.isGroup=c||!1;this.isOptional=d||!1;this.isQuantifier=
b||!1;this.isAlternator=g||!1;this.quantifier={min:1,max:1}}function d(c,f,g){var h=b.definitions[f],m=0==c.matches.length;g=void 0!=g?g:c.matches.length;if(h&&!r){for(var B=h.prevalidator,u=B?B.length:0,n=1;n<h.cardinality;n++){var s=u>=n?B[n-1]:[],w=s.validator,s=s.cardinality;c.matches.splice(g++,0,{fn:w?"string"==typeof w?RegExp(w):new function(){this.test=w}:/./,cardinality:s?s:1,optionality:c.isOptional,newBlockMarker:m,casing:h.casing,def:h.definitionSymbol||f,placeholder:h.placeholder,mask:f})}c.matches.splice(g++,
0,{fn:h.validator?"string"==typeof h.validator?RegExp(h.validator):new function(){this.test=h.validator}:/./,cardinality:h.cardinality,optionality:c.isOptional,newBlockMarker:m,casing:h.casing,def:h.definitionSymbol||f,placeholder:h.placeholder,mask:f})}else c.matches.splice(g++,0,{fn:null,cardinality:0,optionality:c.isOptional,newBlockMarker:m,casing:null,def:f,placeholder:void 0,mask:f}),r=!1}for(var m=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,r=!1,n=new f,g,s=[],z=[],
u,h;g=m.exec(c);)switch(g=g[0],g.charAt(0)){case b.optionalmarker.end:case b.groupmarker.end:g=s.pop();if(0<s.length){if(u=s[s.length-1],u.matches.push(g),u.isAlternator){g=s.pop();for(u=0;u<g.matches.length;u++)g.matches[u].isGroup=!1;0<s.length?(u=s[s.length-1],u.matches.push(g)):n.matches.push(g)}}else n.matches.push(g);break;case b.optionalmarker.start:s.push(new f(!1,!0));break;case b.groupmarker.start:s.push(new f(!0));break;case b.quantifiermarker.start:u=new f(!1,!1,!0);g=g.replace(/[{}]/g,
"");h=g.split(",");g=isNaN(h[0])?h[0]:parseInt(h[0]);h=1==h.length?g:isNaN(h[1])?h[1]:parseInt(h[1]);if("*"==h||"+"==h)g="*"==h?0:1;u.quantifier={min:g,max:h};if(0<s.length){h=s[s.length-1].matches;g=h.pop();if(!g.isGroup){var y=new f(!0);y.matches.push(g);g=y}h.push(g);h.push(u)}else g=n.matches.pop(),g.isGroup||(y=new f(!0),y.matches.push(g),g=y),n.matches.push(g),n.matches.push(u);break;case b.escapeChar:r=!0;break;case b.alternatormarker:0<s.length?(u=s[s.length-1],h=u.matches.pop()):h=n.matches.pop();
h.isAlternator?s.push(h):(g=new f(!1,!1,!1,!0),g.matches.push(h),s.push(g));break;default:if(0<s.length){if(u=s[s.length-1],0<u.matches.length&&(h=u.matches[u.matches.length-1],h.isGroup&&(h.isGroup=!1,d(h,b.groupmarker.start,0),d(h,b.groupmarker.end))),d(u,g),u.isAlternator){g=s.pop();for(u=0;u<g.matches.length;u++)g.matches[u].isGroup=!1;0<s.length?(u=s[s.length-1],u.matches.push(g)):n.matches.push(g)}}else 0<n.matches.length&&(h=n.matches[n.matches.length-1],h.isGroup&&(h.isGroup=!1,d(h,b.groupmarker.start,
0),d(h,b.groupmarker.end))),d(n,g)}0<n.matches.length&&(h=n.matches[n.matches.length-1],h.isGroup&&(h.isGroup=!1,d(h,b.groupmarker.start,0),d(h,b.groupmarker.end)),z.push(n));return z}function y(d,m){if(b.numericInput&&!0!==b.multi){d=d.split("").reverse();for(var r=0;r<d.length;r++)d[r]==b.optionalmarker.start?d[r]=b.optionalmarker.end:d[r]==b.optionalmarker.end?d[r]=b.optionalmarker.start:d[r]==b.groupmarker.start?d[r]=b.groupmarker.end:d[r]==b.groupmarker.end&&(d[r]=b.groupmarker.start);d=d.join("")}if(void 0!=
d&&""!=d){if(0<b.repeat||"*"==b.repeat||"+"==b.repeat)d=b.groupmarker.start+d+b.groupmarker.end+b.quantifiermarker.start+("*"==b.repeat?0:"+"==b.repeat?1:b.repeat)+","+b.repeat+b.quantifiermarker.end;void 0==f.inputmask.masksCache[d]&&(f.inputmask.masksCache[d]={mask:d,maskToken:c(d),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:m});return f.extend(!0,{},f.inputmask.masksCache[d])}}var z=[];f.isFunction(b.mask)&&(b.mask=b.mask.call(this,b));if(f.isArray(b.mask))if(d)f.each(b.mask,
function(c,d){void 0!=d.mask?z.push(y(d.mask.toString(),d)):z.push(y(d.toString()))});else{b.keepStatic=void 0==b.keepStatic?!0:b.keepStatic;var r=!1,m="(";f.each(b.mask,function(c,d){1<m.length&&(m+=")|(");void 0!=d.mask?(r=!0,m+=d.mask.toString()):m+=d.toString()});m+=")";z=y(m,r?b.mask:void 0)}else 1==b.mask.length&&!1==b.greedy&&0!=b.repeat&&(b.placeholder=""),z=void 0!=b.mask.mask?y(b.mask.mask.toString(),b.mask):y(b.mask.toString());return z},ja="function"===typeof ScriptEngineMajorVersion?
ScriptEngineMajorVersion():10<=(new Function("/*@cc_on return @_jscript_version; @*/"))(),x=navigator.userAgent,ka=null!==x.match(/iphone/i),la=null!==x.match(/android.*safari.*/i),ma=null!==x.match(/android.*chrome.*/i),na=null!==x.match(/android.*firefox.*/i),oa=/Kindle/i.test(x)||/Silk/i.test(x)||/KFTT/i.test(x)||/KFOT/i.test(x)||/KFJWA/i.test(x)||/KFJWI/i.test(x)||/KFSOWI/i.test(x)||/KFTHWA/i.test(x)||/KFTHWI/i.test(x)||/KFAPWA/i.test(x)||/KFAPWI/i.test(x),Z=U("paste")?"paste":U("input")?"input":
"propertychange",K=function(b,d,c){function y(a,e,t){e=e||0;var f=[],b,g=0,q;do{if(!0===a&&d.validPositions[g]){var l=d.validPositions[g];q=l.match;b=l.locator.slice();f.push(null==q.fn?q.def:!0===t?l.input:q.placeholder||c.placeholder.charAt(g%c.placeholder.length))}else b=e>g?L(g,b,g-1)[0]:x(g,b,g-1),q=b.match,b=b.locator.slice(),f.push(null==q.fn?q.def:void 0!=q.placeholder?q.placeholder:c.placeholder.charAt(g%c.placeholder.length));g++}while((void 0==M||g-1<M)&&null!=q.fn||null==q.fn&&""!=q.def||
e>=g);f.pop();return f}function z(a){var e=d;e.buffer=void 0;e.tests={};!0!==a&&(e._buffer=void 0,e.validPositions={},e.p=-1)}function r(a){var e=-1,c=d.validPositions;void 0==a&&(a=-1);var f=e,g;for(g in c){var b=parseInt(g);if(-1==a||null!=c[b].match.fn)b<a&&(f=b),b>=a&&(e=b)}return 1<a-f||e<a?f:e}function m(a,e,t){if(c.insertMode&&void 0!=d.validPositions[a]&&void 0==t){t=f.extend(!0,{},d.validPositions);var b=r(),g;for(g=a;g<=b;g++)delete d.validPositions[g];d.validPositions[a]=e;e=!0;for(g=a;g<=
b;g++){a=t[g];if(void 0!=a){var p=null==a.match.fn?g+1:C(g);e=K(p,a.match.def)?e&&!1!==u(p,a.input,!0,!0):!1}if(!e)break}if(!e)return d.validPositions=f.extend(!0,{},t),!1}else d.validPositions[a]=e;return!0}function B(a,e){var c,f=a;for(c=a;c<e;c++)delete d.validPositions[c];for(c=e;c<=r();){var g=d.validPositions[c],b=d.validPositions[f];void 0!=g&&void 0==b?(K(f,g.match.def)&&!1!==u(f,g.input,!0)&&(delete d.validPositions[c],c++),f++):c++}for(c=r();0<c&&(void 0==d.validPositions[c]||null==d.validPositions[c].match.fn);)delete d.validPositions[c],
c--;z(!0)}function x(a,e,t){a=L(a,e,t);var g;e=r();e=d.validPositions[e]||L(0)[0];t=void 0!=e.alternation?e.locator[e.alternation].split(","):[];for(var b=0;b<a.length&&(g=a[b],!c.greedy&&(!g.match||!1!==g.match.optionality&&!1!==g.match.newBlockMarker||!0===g.match.optionalQuantifier||void 0!=e.alternation&&(void 0==g.locator[e.alternation]||-1!=f.inArray(g.locator[e.alternation].toString(),t))));b++);return g}function E(a){return d.validPositions[a]?d.validPositions[a].match:L(a)[0].match}function K(a,
e){for(var c=!1,f=L(a),d=0;d<f.length;d++)if(f[d].match&&f[d].match.def==e){c=!0;break}return c}function L(a,e,t){function g(e,t,b,h){function D(b,h,k){if(1E4<p)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d.mask),!0;if(p==a&&void 0==b.matches)return q.push({match:b,locator:h.reverse()}),!0;if(void 0!=b.matches)if(b.isGroup&&!0!==k){if(b=D(e.matches[m+1],h))return!0}else if(b.isOptional){var r=
b;if(b=g(b,t,h,k))b=q[q.length-1].match,(b=0==f.inArray(b,r.matches))&&(l=!0),p=a}else if(b.isAlternator){var r=b,u=[],s,w=q.slice(),n=h.length,N=0<t.length?t.shift():-1;if(-1==N||"string"==typeof N){var z=p,ea=t.slice(),y;"string"==typeof N&&(y=N.split(","));for(var x=0;x<r.matches.length;x++){q=[];b=D(r.matches[x],[x].concat(h),k)||b;s=q.slice();p=z;q=[];for(var v=0;v<ea.length;v++)t[v]=ea[v];for(v=0;v<s.length;v++)for(var A=s[v],B=0;B<u.length;B++){var C=u[B];if(A.match.mask==C.match.mask&&("string"!=
typeof N||-1!=f.inArray(A.locator[n].toString(),y))){s.splice(v,1);C.locator[n]=C.locator[n]+","+A.locator[n];C.alternation=n;break}}u=u.concat(s)}"string"==typeof N&&(u=f.map(u,function(a,e){if(isFinite(e)){var c=a.locator[n].toString().split(","),t;a.locator[n]=void 0;a.alternation=void 0;for(var d=0;d<c.length;d++)if(t=-1!=f.inArray(c[d],y))void 0!=a.locator[n]?(a.locator[n]+=",",a.alternation=n,a.locator[n]+=c[d]):a.locator[n]=parseInt(c[d]);if(void 0!=a.locator[n])return a}}));q=w.concat(u);
l=!0}else b=D(r.matches[N],[N].concat(h),k);if(b)return!0}else if(b.isQuantifier&&!0!==k)for(r=b,c.greedy=c.greedy&&isFinite(r.quantifier.max),k=0<t.length&&!0!==k?t.shift():0;k<(isNaN(r.quantifier.max)?k+1:r.quantifier.max)&&p<=a;k++){if(u=e.matches[f.inArray(r,e.matches)-1],b=D(u,[k].concat(h),!0))if(b=q[q.length-1].match,b.optionalQuantifier=k>r.quantifier.min-1,b=0==f.inArray(b,u.matches))if(k>r.quantifier.min-1){l=!0;p=a;break}else return!0;else return!0}else{if(b=g(b,t,h,k))return!0}else p++}
for(var m=0<t.length?t.shift():0;m<e.matches.length;m++)if(!0!==e.matches[m].isQuantifier){var k=D(e.matches[m],[m].concat(b),h);if(k&&p==a)return k;if(p>a)break}}var b=d.maskToken,p=e?t:0;t=e||[0];var q=[],l=!1;if(void 0==e){e=a-1;for(var h;void 0==(h=d.validPositions[e])&&-1<e;)e--;if(void 0!=h&&-1<e)p=e,t=h.locator.slice();else{for(e=a-1;void 0==(h=d.tests[e])&&-1<e;)e--;void 0!=h&&-1<e&&(p=e,t=h[0].locator.slice())}}for(e=t.shift();e<b.length&&!(g(b[e],t,[e])&&p==a||p>a);e++);(0==q.length||l)&&
q.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]});d.tests[a]=f.extend(!0,[],q);return d.tests[a]}function n(){void 0==d._buffer&&(d._buffer=y(!1,1));return d._buffer}function g(){void 0==d.buffer&&(d.buffer=y(!0,r(),!0));return d.buffer}function s(a,e){var t=g().slice();if(!0===a)z(),a=0,e=t.length;else for(var f=a;f<e;f++)delete d.validPositions[f],delete d.tests[f];for(f=a;f<e;f++)t[f]!=c.skipOptionalPartCharacter&&u(f,t[f],!0,!0)}function Q(a,e){switch(e.casing){case "upper":a=
a.toUpperCase();break;case "lower":a=a.toLowerCase()}return a}function u(a,e,t,b){function k(a,e,t,b){var l=!1;f.each(L(a),function(q,h){var k=h.match,G=e?1:0,p="";g();for(var D=k.cardinality;D>G;D--)p+=void 0==d.validPositions[a-(D-1)]?W(a-(D-1)):d.validPositions[a-(D-1)].input;e&&(p+=e);l=null!=k.fn?k.fn.test(p,d,a,t,c):e!=k.def&&e!=c.skipOptionalPartCharacter||""==k.def?!1:{c:k.def,pos:a};if(!1!==l){G=void 0!=l.c?l.c:e;G=G==c.skipOptionalPartCharacter&&null===k.fn?k.def:G;p=a;void 0!=l.remove&&
B(l.remove,l.remove+1);if(l.refreshFromBuffer){p=l.refreshFromBuffer;t=!0;s(!0===p?p:p.start,p.end);if(void 0==l.pos&&void 0==l.c)return l.pos=r(),!1;p=void 0!=l.pos?l.pos:a;if(p!=a)return l=f.extend(l,u(p,G,!0)),!1}else if(!0!==l&&void 0!=l.pos&&l.pos!=a&&(p=l.pos,s(a,p),p!=a))return l=f.extend(l,u(p,G,!0)),!1;if(!0!=l&&void 0==l.pos&&void 0==l.c)return!1;0<q&&z(!0);m(p,f.extend({},h,{input:Q(G,k)}),b)||(l=!1);return!1}});return l}function p(a,e,t,b){if(c.keepStatic){var l=f.extend(!0,{},d.validPositions),
p,q;for(p=r();0<=p;p--)if(d.validPositions[p]&&void 0!=d.validPositions[p].alternation){q=d.validPositions[p].alternation;break}if(void 0!=q)for(var k in d.validPositions)if(parseInt(k)>parseInt(p)&&void 0===d.validPositions[k].alternation){var h=d.validPositions[k].locator[q];p=d.validPositions[p].locator[q].split(",");for(var G=0;G<p.length;G++)if(h<p[G]){for(var D,m,n=k-1;0<=n;n--)if(D=d.validPositions[n],void 0!=D){m=D.locator[q];D.locator[q]=p[G];break}if(h!=D.locator[q]){for(var n=g().slice(),
s=k;s<r()+1;s++)delete d.validPositions[s],delete d.tests[s];z(!0);c.keepStatic=!c.keepStatic;for(s=k;s<n.length;s++)n[s]!=c.skipOptionalPartCharacter&&u(r()+1,n[s],!1,!0);D.locator[q]=m;n=r()+1==a&&u(a,e,t,b);c.keepStatic=!c.keepStatic;if(n)return n;z();d.validPositions=f.extend(!0,{},l)}}break}}return!1}t=!0===t;for(var q=g(),l=a-1;-1<l&&(!d.validPositions[l]||null!=d.validPositions[l].match.fn);l--)void 0==d.validPositions[l]&&(!h(l)||q[l]!=W(l))&&1<L(l).length&&k(l,q[l],!0);q=a;if(q>=S())return p(a,
e,t,b);a=k(q,e,t,b);if(!t&&!1===a)if((l=d.validPositions[q])&&null==l.match.fn&&(l.match.def==e||e==c.skipOptionalPartCharacter))a={caret:C(q)};else if((c.insertMode||void 0==d.validPositions[C(q)])&&!h(q))for(var l=q+1,n=C(q);l<=n;l++)if(a=k(l,e,t,b),!1!==a){q=l;break}!0===a&&(a={pos:q});return a}function h(a){a=E(a);return null!=a.fn?a.fn:!1}function S(){var a;M=k.prop("maxLength");-1==M&&(M=void 0);if(!1==c.greedy){var e;e=r();a=d.validPositions[e];var f=void 0!=a?a.locator.slice():void 0;for(e+=
1;void 0==a||null!=a.match.fn||null==a.match.fn&&""!=a.match.def;e++)a=x(e,f,e-1),f=a.locator.slice();a=e}else a=g().length;return void 0==M||a<M?a:M}function C(a){var e=S();if(a>=e)return e;for(;++a<e&&!h(a)&&(!0!==c.nojumps||c.nojumpsThreshold>a););return a}function V(a){if(0>=a)return 0;for(;0<--a&&!h(a););return a}function F(a,e,c){a._valueSet(e.join(""));void 0!=c&&w(a,c)}function W(a,e){e=e||E(a);return e.placeholder||(null==e.fn?e.def:c.placeholder.charAt(a%c.placeholder.length))}function R(a,
e,t,b,k){b=void 0!=b?b.slice():ia(a._valueGet()).split("");z();e&&a._valueSet("");f.each(b,function(e,c){if(!0===k){var b=r(),g=-1==b?e:C(b);-1==f.inArray(c,n().slice(b+1,g))&&X.call(a,void 0,!0,c.charCodeAt(0),!1,t,e)}else X.call(a,void 0,!0,c.charCodeAt(0),!1,t,e),t=t||0<e&&e>d.p});e&&(e=c.onKeyPress.call(this,void 0,g(),0,c),$(a,e),F(a,g(),f(a).is(":focus")?C(r(0)):void 0))}function U(a){return f.inputmask.escapeRegex.call(this,a)}function ia(a){return a.replace(RegExp("("+U(n().join(""))+")*$"),
"")}function da(a){if(a.data("_inputmask")&&!a.hasClass("hasDatepicker")){var e=[],b=d.validPositions,k;for(k in b)b[k].match&&null!=b[k].match.fn&&e.push(b[k].input);e=(A?e.reverse():e).join("");b=(A?g().slice().reverse():g()).join("");f.isFunction(c.onUnMask)&&(e=c.onUnMask.call(a,b,e,c));return e}return a[0]._valueGet()}function P(a){!A||"number"!=typeof a||c.greedy&&""==c.placeholder||(a=g().length-a);return a}function w(a,e,b){a=a.jquery&&0<a.length?a[0]:a;if("number"==typeof e){e=P(e);b=P(b);
b="number"==typeof b?b:e;var d=f(a).data("_inputmask")||{};d.caret={begin:e,end:b};f(a).data("_inputmask",d);f(a).is(":visible")&&(a.scrollLeft=a.scrollWidth,!1==c.insertMode&&e==b&&b++,a.setSelectionRange?(a.selectionStart=e,a.selectionEnd=b):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",b),a.moveStart("character",e),a.select()))}else return d=f(a).data("_inputmask"),!f(a).is(":visible")&&d&&void 0!=d.caret?(e=d.caret.begin,b=d.caret.end):a.setSelectionRange?(e=a.selectionStart,
b=a.selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1E5),b=e+a.text.length),e=P(e),b=P(b),{begin:e,end:b}}function ba(a){var e=g(),c=e.length,b,k=r(),p={},q=d.validPositions[k],l=void 0!=q?q.locator.slice():void 0,h;for(b=k+1;b<e.length;b++)h=x(b,l,b-1),l=h.locator.slice(),p[b]=f.extend(!0,{},h);l=q&&void 0!=q.alternation?q.locator[q.alternation].split(","):[];for(b=c-1;b>k;b--)if(h=p[b].match,(h.optionality||
h.optionalQuantifier||q&&void 0!=q.alternation&&void 0!=p[b].locator[q.alternation]&&-1!=f.inArray(p[b].locator[q.alternation].toString(),l))&&e[b]==W(b,h))c--;else break;return a?{l:c,def:p[c]?p[c].match:void 0}:c}function ca(a){var e=g().slice(),c=ba();e.length=c;F(a,e)}function T(a){if(f.isFunction(c.isComplete))return c.isComplete.call(k,a,c);if("*"!=c.repeat){var e=!1,b=ba(!0),d=V(b.l);if(r()==d&&(void 0==b.def||b.def.newBlockMarker||b.def.optionalQuantifier))for(e=!0,b=0;b<=d;b++){var g=h(b);
if(g&&(void 0==a[b]||a[b]==W(b))||!g&&a[b]!=W(b)){e=!1;break}}return e}}function pa(a){a=f._data(a).events;f.each(a,function(a,b){f.each(b,function(a,e){if("inputmask"==e.namespace&&"setvalue"!=e.type){var b=e.handler;e.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return b.apply(this,arguments)}}})})}function qa(a){function e(a){if(void 0==f.valHooks[a]||!0!=f.valHooks[a].inputmaskpatch){var e=f.valHooks[a]&&f.valHooks[a].get?f.valHooks[a].get:function(a){return a.value},
b=f.valHooks[a]&&f.valHooks[a].set?f.valHooks[a].set:function(a,e){a.value=e;return a};f.valHooks[a]={get:function(a){var b=f(a);if(b.data("_inputmask")){if(b.data("_inputmask").opts.autoUnmask)return b.inputmask("unmaskedvalue");a=e(a);b=(b=b.data("_inputmask").maskset._buffer)?b.join(""):"";return a!=b?a:""}return e(a)},set:function(a,e){var c=f(a),d=c.data("_inputmask");d?(d=b(a,f.isFunction(d.opts.onBeforeMask)?d.opts.onBeforeMask.call(v,e,d.opts):e),c.triggerHandler("setvalue.inputmask")):d=
b(a,e);return d},inputmaskpatch:!0}}}function b(){var a=f(this),e=f(this).data("_inputmask");return e?e.opts.autoUnmask?a.inputmask("unmaskedvalue"):k.call(this)!=n().join("")?k.call(this):"":k.call(this)}function c(a){var e=f(this).data("_inputmask");e?(h.call(this,f.isFunction(e.opts.onBeforeMask)?e.opts.onBeforeMask.call(v,a,e.opts):a),f(this).triggerHandler("setvalue.inputmask")):h.call(this,a)}function d(a){f(a).bind("mouseenter.inputmask",function(a){a=f(this);var e=this._valueGet();""!=e&&
e!=g().join("")&&a.trigger("setvalue")});if(a=f._data(a).events.mouseover){for(var e=a[a.length-1],b=a.length-1;0<b;b--)a[b]=a[b-1];a[0]=e}}var k,h;a._valueGet||(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a,"value"),document.__lookupGetter__&&a.__lookupGetter__("value")?(k=a.__lookupGetter__("value"),h=a.__lookupSetter__("value"),a.__defineGetter__("value",b),a.__defineSetter__("value",c)):(k=function(){return a.value},h=function(e){a.value=e},e(a.type),d(a)),a._valueGet=function(){return A?
k.call(this).split("").reverse().join(""):k.call(this)},a._valueSet=function(a){h.call(this,A?a.split("").reverse().join(""):a)})}function fa(a,e,b){if(c.numericInput||A)e==c.keyCode.BACKSPACE?e=c.keyCode.DELETE:e==c.keyCode.DELETE&&(e=c.keyCode.BACKSPACE),A&&(a=b.end,b.end=b.begin,b.begin=a);e==c.keyCode.BACKSPACE&&1>=b.end-b.begin?b.begin=V(b.begin):e==c.keyCode.DELETE&&b.begin==b.end&&b.end++;B(b.begin,b.end);e=r(b.begin);d.p=e<b.begin?C(e):b.begin}function $(a,b,c){if(b&&b.refreshFromBuffer){var d=
b.refreshFromBuffer;s(!0===d?d:d.start,d.end);z(!0);void 0!=c&&(F(a,g()),w(a,b.caret||c.begin,b.caret||c.end))}}function ga(a){Y=!1;var b=this,k=f(b),h=a.keyCode,m=w(b);h==c.keyCode.BACKSPACE||h==c.keyCode.DELETE||ka&&127==h||a.ctrlKey&&88==h?(a.preventDefault(),88==h&&(J=g().join("")),fa(b,h,m),F(b,g(),d.p),b._valueGet()==n().join("")&&k.trigger("cleared"),c.showTooltip&&k.prop("title",d.mask)):h==c.keyCode.END||h==c.keyCode.PAGE_DOWN?setTimeout(function(){var d=C(r());c.insertMode||d!=S()||a.shiftKey||
d--;w(b,a.shiftKey?m.begin:d,d)},0):h==c.keyCode.HOME&&!a.shiftKey||h==c.keyCode.PAGE_UP?w(b,0,a.shiftKey?m.begin:0):h==c.keyCode.ESCAPE||90==h&&a.ctrlKey?(R(b,!0,!1,J.split("")),k.click()):h!=c.keyCode.INSERT||a.shiftKey||a.ctrlKey?!1!=c.insertMode||a.shiftKey||(h==c.keyCode.RIGHT?setTimeout(function(){var a=w(b);w(b,a.begin)},0):h==c.keyCode.LEFT&&setTimeout(function(){var a=w(b);w(b,A?a.begin+1:a.begin-1)},0)):(c.insertMode=!c.insertMode,w(b,c.insertMode||m.begin!=S()?m.begin:m.begin-1));var k=
w(b),p=c.onKeyDown.call(this,a,g(),k.begin,c);$(b,p,k);aa=-1!=f.inArray(h,c.ignorables)}function X(a,b,h,k,n,p){if(void 0==h&&Y)return!1;Y=!0;var q=f(this);a=a||window.event;h=b?h:a.which||a.charCode||a.keyCode;if(!(!0===b||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||aa))return!0;if(h){!0!==b&&46==h&&!1==a.shiftKey&&","==c.radixPoint&&(h=44);var l,s;h=String.fromCharCode(h);b?(p=n?p:r()+1,l={begin:p,end:p}):l=w(this);if(p=A?1<l.begin-l.end||1==l.begin-l.end&&c.insertMode:1<l.end-l.begin||1==l.end-
l.begin&&c.insertMode)d.undoPositions=f.extend(!0,{},d.validPositions),fa(this,c.keyCode.DELETE,l),c.insertMode||(c.insertMode=!c.insertMode,m(l.begin,n),c.insertMode=!c.insertMode),p=!c.multi;d.writeOutBuffer=!0;l=A&&!p?l.end:l.begin;var v=u(l,h,n);!1!==v&&(!0!==v&&(l=void 0!=v.pos?v.pos:l,h=void 0!=v.c?v.c:h),z(!0),void 0!=v.caret?s=v.caret:(n=d.validPositions,s=!c.keepStatic&&(void 0!=n[l+1]&&1<L(l+1,n[l].locator.slice(),l).length||void 0!=n[l].alternation)?l+1:C(l)),d.p=s);if(!1!==k){var y=this;
setTimeout(function(){c.onKeyValidation.call(y,v,c)},0);if(d.writeOutBuffer&&!1!==v){var x=g();F(this,x,b?void 0:c.numericInput?V(s):s);!0!==b&&setTimeout(function(){!0===T(x)&&q.trigger("complete");O=!0;q.trigger("input")},0)}else p&&(d.buffer=void 0,d.validPositions=d.undoPositions)}else p&&(d.buffer=void 0,d.validPositions=d.undoPositions);c.showTooltip&&q.prop("title",d.mask);a&&!0!=b&&(a.preventDefault?a.preventDefault():a.returnValue=!1,b=w(this),a=c.onKeyPress.call(this,a,g(),b.begin,c),$(this,
a,b))}}function ra(a){var b=f(this),d=a.keyCode,h=g(),k=w(this);a=c.onKeyUp.call(this,a,h,k.begin,c);$(this,a,k);d==c.keyCode.TAB&&c.showMaskOnFocus&&(b.hasClass("focus-inputmask")&&0==this._valueGet().length?(z(),h=g(),F(this,h),w(this,0),J=g().join("")):(F(this,h),w(this,P(0),P(S()))))}function ha(a){if(!0===O&&"input"==a.type)return O=!1,!0;var b=f(this),d=this._valueGet();if("propertychange"==a.type&&this._valueGet().length<=S())return!0;"paste"==a.type&&(window.clipboardData&&window.clipboardData.getData?
d=window.clipboardData.getData("Text"):a.originalEvent&&a.originalEvent.clipboardData&&a.originalEvent.clipboardData.getData&&(d=a.originalEvent.clipboardData.getData("text/plain")));a=f.isFunction(c.onBeforePaste)?c.onBeforePaste.call(this,d,c):d;R(this,!0,!1,a.split(""),!0);b.click();!0===T(g())&&b.trigger("complete");return!1}function sa(a){if(!0===O&&"input"==a.type)return O=!1,!0;var b=w(this),d=this._valueGet(),d=d.replace(RegExp("("+U(n().join(""))+")*"),"");b.begin>d.length&&(w(this,d.length),
b=w(this));1!=g().length-d.length||d.charAt(b.begin)==g()[b.begin]||d.charAt(b.begin+1)==g()[b.begin]||h(b.begin)||(a.keyCode=c.keyCode.BACKSPACE,ga.call(this,a));a.preventDefault()}function ta(a){if(!0===O&&"input"==a.type)return O=!1,!0;var b=w(this),h=this._valueGet();w(this,b.begin-1);var k=f.Event("keypress");k.which=h.charCodeAt(b.begin-1);aa=Y=!1;X.call(this,k,void 0,void 0,!1);b=d.p;F(this,g(),c.numericInput?V(b):b);a.preventDefault()}function ua(a){O=!0;var b=this;setTimeout(function(){w(b,
w(b).begin-1);var h=f.Event("keypress");h.which=a.originalEvent.data.charCodeAt(0);aa=Y=!1;X.call(b,h,void 0,void 0,!1);h=d.p;F(b,g(),c.numericInput?V(h):h)},0);return!1}function va(a){k=f(a);if(k.is(":input")&&"number"!=k.attr("type")){k.data("_inputmask",{maskset:d,opts:c,isRTL:!1});c.showTooltip&&k.prop("title",d.mask);("rtl"==a.dir||c.rightAlign)&&k.css("text-align","right");if("rtl"==a.dir||c.numericInput){a.dir="ltr";k.removeAttr("dir");var b=k.data("_inputmask");b.isRTL=!0;k.data("_inputmask",
b);A=!0}k.unbind(".inputmask");k.removeClass("focus-inputmask");k.closest("form").bind("submit",function(){J!=g().join("")&&k.change();c.autoUnmask&&c.removeMaskOnSubmit&&k.inputmask("remove")}).bind("reset",function(){setTimeout(function(){k.trigger("setvalue")},0)});k.bind("mouseenter.inputmask",function(){!f(this).hasClass("focus-inputmask")&&c.showMaskOnHover&&this._valueGet()!=g().join("")&&F(this,g())}).bind("blur.inputmask",function(){var a=f(this);if(a.data("_inputmask")){var b=this._valueGet(),
d=g();a.removeClass("focus-inputmask");J!=g().join("")&&a.change();c.clearMaskOnLostFocus&&""!=b&&(b==n().join("")?this._valueSet(""):ca(this));!1===T(d)&&(a.trigger("incomplete"),c.clearIncomplete&&(z(),c.clearMaskOnLostFocus?this._valueSet(""):(d=n().slice(),F(this,d))))}}).bind("focus.inputmask",function(){var a=f(this),b=this._valueGet();c.showMaskOnFocus&&!a.hasClass("focus-inputmask")&&(!c.showMaskOnHover||c.showMaskOnHover&&""==b)&&this._valueGet()!=g().join("")&&F(this,g(),C(r()));a.addClass("focus-inputmask");
J=g().join("")}).bind("mouseleave.inputmask",function(){var a=f(this);c.clearMaskOnLostFocus&&(a.hasClass("focus-inputmask")||this._valueGet()==a.attr("placeholder")||(this._valueGet()==n().join("")||""==this._valueGet()?this._valueSet(""):ca(this)))}).bind("click.inputmask",function(){var a=this;f(a).is(":focus")&&setTimeout(function(){var b=w(a);if(b.begin==b.end){var b=A?P(b.begin):b.begin,c=r(b),c=C(c);b<c?h(b)?w(a,b):w(a,C(b)):w(a,c)}},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){w(a,
0,C(r()))},0)}).bind(Z+".inputmask dragdrop.inputmask drop.inputmask",ha).bind("setvalue.inputmask",function(){R(this,!0,!1,void 0,!0);J=g().join("")}).bind("complete.inputmask",c.oncomplete).bind("incomplete.inputmask",c.onincomplete).bind("cleared.inputmask",c.oncleared);k.bind("keydown.inputmask",ga).bind("keypress.inputmask",X).bind("keyup.inputmask",ra).bind("compositionupdate.inputmask",ua);"paste"===Z&&k.bind("input.inputmask",ta);if(la||na||ma||oa)"input"==Z&&k.unbind(Z+".inputmask"),k.bind("input.inputmask",
sa);ja&&k.bind("input.inputmask",ha);qa(a);b=f.isFunction(c.onBeforeMask)?c.onBeforeMask.call(a,a._valueGet(),c):a._valueGet();R(a,!0,!1,b.split(""),!0);J=g().join("");var m;try{m=document.activeElement}catch(s){}!1===T(g())&&c.clearIncomplete&&z();c.clearMaskOnLostFocus?g().join("")==n().join("")?a._valueSet(""):ca(a):F(a,g());m===a&&(k.addClass("focus-inputmask"),w(a,C(r())));pa(a)}}var A=!1,J,k,Y=!1,O=!1,aa=!1,M;if(void 0!=b)switch(b.action){case "isComplete":return k=f(b.el),d=k.data("_inputmask").maskset,
c=k.data("_inputmask").opts,T(b.buffer);case "unmaskedvalue":return k=b.$input,d=k.data("_inputmask").maskset,c=k.data("_inputmask").opts,A=b.$input.data("_inputmask").isRTL,da(b.$input);case "mask":J=g().join("");va(b.el);break;case "format":k=f({});k.data("_inputmask",{maskset:d,opts:c,isRTL:c.numericInput});c.numericInput&&(A=!0);var H=(f.isFunction(c.onBeforeMask)?c.onBeforeMask.call(k,b.value,c):b.value).split("");R(k,!1,!1,A?H.reverse():H,!0);c.onKeyPress.call(this,void 0,g(),0,c);return A?
g().slice().reverse().join(""):g().join("");case "isValid":k=f({});k.data("_inputmask",{maskset:d,opts:c,isRTL:c.numericInput});c.numericInput&&(A=!0);H=b.value.split("");R(k,!1,!0,A?H.reverse():H);var H=g(),I=ba();H.length=I;return T(H)&&b.value==H.join("");case "getemptymask":return k=f(b.el),d=k.data("_inputmask").maskset,c=k.data("_inputmask").opts,n();case "remove":var v=b.el;k=f(v);d=k.data("_inputmask").maskset;c=k.data("_inputmask").opts;v._valueSet(da(k));k.unbind(".inputmask");k.removeClass("focus-inputmask");
k.removeData("_inputmask");Object.getOwnPropertyDescriptor&&(I=Object.getOwnPropertyDescriptor(v,"value"));I&&I.get?v._valueGet&&Object.defineProperty(v,"value",{get:v._valueGet,set:v._valueSet}):document.__lookupGetter__&&v.__lookupGetter__("value")&&v._valueGet&&(v.__defineGetter__("value",v._valueGet),v.__defineSetter__("value",v._valueSet));try{delete v._valueGet,delete v._valueSet}catch(wa){v._valueGet=void 0,v._valueSet=void 0}break;case "getmetadata":k=f(b.el);d=k.data("_inputmask").maskset;
c=k.data("_inputmask").opts;if(f.isArray(d.metadata)){for(I=b=r();0<=I;I--)if(d.validPositions[I]&&void 0!=d.validPositions[I].alternation){H=d.validPositions[I].alternation;break}return void 0!=H?d.metadata[d.validPositions[b].locator[H]]:d.metadata[0]}return d.metadata}};f.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:f.noop,onincomplete:f.noop,
oncleared:f.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!0,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:f.noop,onKeyPress:f.noop,onKeyDown:f.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:f.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,radixPoint:"",nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,
definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},masksCache:{},escapeRegex:function(b){return b.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")},format:function(b,d){var c=f.extend(!0,{},f.inputmask.defaults,d);E(c.alias,d,c);return K({action:"format",value:b},Q(c),c)},isValid:function(b,d){var c=f.extend(!0,
{},f.inputmask.defaults,d);E(c.alias,d,c);return K({action:"isValid",value:b},Q(c),c)}};f.fn.inputmask=function(b,d,c,y,x){function r(b,c){var d=f(b),m;for(m in c){var n=d.data("inputmask-"+m.toLowerCase());void 0!=n&&(c[m]=n)}return c}c=c||K;y=y||"_inputmask";var m=f.extend(!0,{},f.inputmask.defaults,d),B;if("string"===typeof b)switch(b){case "mask":return E(m.alias,d,m),B=Q(m,c!==K),0==B.length?this:this.each(function(){c({action:"mask",el:this},f.extend(!0,{},B),r(this,m))});case "unmaskedvalue":return b=
f(this),b.data(y)?c({action:"unmaskedvalue",$input:b}):b.val();case "remove":return this.each(function(){f(this).data(y)&&c({action:"remove",el:this})});case "getemptymask":return this.data(y)?c({action:"getemptymask",el:this}):"";case "hasMaskedValue":return this.data(y)?!this.data(y).opts.autoUnmask:!1;case "isComplete":return this.data(y)?c({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case "getmetadata":if(this.data(y))return c({action:"getmetadata",el:this});break;case "_detectScope":return E(m.alias,
d,m),void 0==x||E(x,d,m)||-1!=f.inArray(x,"mask unmaskedvalue remove getemptymask hasMaskedValue isComplete getmetadata _detectScope".split(" "))||(m.mask=x),f.isFunction(m.mask)&&(m.mask=m.mask.call(this,m)),f.isArray(m.mask);default:return E(m.alias,d,m),E(b,d,m)||(m.mask=b),B=Q(m,c!==K),void 0==B?this:this.each(function(){c({action:"mask",el:this},f.extend(!0,{},B),r(this,m))})}else{if("object"==typeof b)return m=f.extend(!0,{},f.inputmask.defaults,b),E(m.alias,b,m),B=Q(m,c!==K),void 0==B?this:
this.each(function(){c({action:"mask",el:this},f.extend(!0,{},B),r(this,m))});if(void 0==b)return this.each(function(){var b=f(this).attr("data-inputmask");if(b&&""!=b)try{var b=b.replace(RegExp("'","g"),'"'),r=f.parseJSON("{"+b+"}");f.extend(!0,r,d);m=f.extend(!0,{},f.inputmask.defaults,r);E(m.alias,r,m);m.alias=void 0;f(this).inputmask("mask",m,c)}catch(x){}})}}}return f.fn.inputmask});
